"0","#| output: false"
"0","dataset_worlclim <- links %>% filter(source == ""WorldClim 2.1"" & type == ""climatology"")"
"0","checkdir(dataset_worlclim$source[1])"
"1","[1]"
"1"," ""directory./data_reanalysis/WorldClim 2.1 already exists"""
"1","
"
"0","destfile<- gsub("".zip"",""_01.tif"",paste0(""../data_reanalysis/"", dataset_worlclim$source[1], ""/"", dataset_worlclim$filename[1]))"
"0","if (file.exists(destfile)==FALSE){"
"0","  download.file(dataset_worlclim$link[1], destfile = paste0(""../data_reanalysis/"", dataset_worlclim$source[1], ""/"",  dataset_worlclim$filename[1]), method = ""libcurl"")"
"0","  "
"0","  unzip(paste0(""data_reanalysis/"", dataset_worlclim$source[1], ""/"", dataset_worlclim$filename[1]), exdir = paste0(""data_reanalysis/"",      dataset_worlclim$source[1]))"
"0","  data<-list.files(paste0(""data_reanalysis/"", dataset_worlclim$source[1], ""/""),pattern = "".tif"",full.names = TRUE)"
"0","  for (t in 1:length(data)) {"
"0","    ras<- terra::raster(data[t])"
"0","    ras<- terra::crop(ras, extentMap)"
"0","    writeRaster(ras, filename = data[t], format = ""GTiff"", overwrite = TRUE)"
"0","  }"
"0","  unlink(paste0(""data_reanalysis/"", dataset_worlclim$source[1], ""/"", dataset_worlclim$filename[1]))"
"0","  unlink(paste0(""data_reanalysis/"", dataset_worlclim$source[1], ""/readme.txt""))"
"0","}else{"
"0","  print(""Files already exist"")"
"0","}"
"1","[1]"
"1"," ""Files already exist"""
"1","
"
