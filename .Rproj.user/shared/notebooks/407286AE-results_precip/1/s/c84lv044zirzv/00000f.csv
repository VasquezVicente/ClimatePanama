"0","climatologies <- datasets_info %>%"
"0","  map_df(function(info) {"
"0","    calculate_climatology(info$start_year, info$end_year, data_ground) %>%"
"0","      mutate(source = info$dataset_name)}) %>%"
"0","  left_join(acpStation[, c('site', 'latitude', 'longitude', 'Elevation')], by = c(""site"" = ""site"")) %>%"
"0","  left_join(striStation[, c('alias', 'latitude', 'longitude')], by = c(""site"" = ""alias"")) %>%"
"0","  mutate(latitude = ifelse(is.na(latitude.x), latitude.y, latitude.x),"
"0","         longitude = ifelse(is.na(longitude.x), longitude.y, longitude.x),"
"0","         longitude = -1 * abs(longitude)) %>%"
"0","  dplyr::select(site, latitude, longitude, source, annual, jfma, Elevation)"
"0",""
"0",""
"0","#extract the values at the coordinates for climatologies"
"0","for (source in datasets_info) {"
"0","  files <- list.files(source$path, pattern = ""\\.tif$"", full.names = TRUE)"
"0","  annual_data <- annual_pan(files, extentMap)"
"0","  climatologies[[source$dataset_name]] <- extract_land(annual_data,climatologies[,3:2])"
"0","  jfma_data = jfma_pan(files, extentMap)"
"0","  column_name = paste(source$dataset_name, ""_jfma"", sep = """")"
"0","  climatologies[[column_name]] = extract_land(jfma_data, climatologies[,3:2])"
"0","}"
"0",""
"0",""
"0","write.csv(climatologies,file=""../tables/climatologies.csv"")"
