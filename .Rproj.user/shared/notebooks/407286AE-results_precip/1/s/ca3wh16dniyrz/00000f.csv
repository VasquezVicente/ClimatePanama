"0","sites_unique <- unique(acp38_ag$site)"
"0","all_correlations <- data.frame( site = character(),"
"0","                                dataset=character(),"
"0","                                Correlation = numeric(),"
"0","                                RMSE = numeric(),"
"0","                                stringsAsFactors = FALSE)"
"0",""
"0","#loop over the dataset and each of the sites for calculating the correlation and the rmse"
"0","for (j in seq_along(datasets_info)){"
"0","  print(datasets_info[[j]]$dataset_name)"
"0","  for (i in seq_along(sites_unique))  {"
"0","    temporal_range <- datasets_info[[j]]$temporal"
"0","    name <- datasets_info[[j]]$dataset_name"
"0","    col_name <- datasets_info[[j]]$column_name"
"0","    site_data <- acp38_ag[acp38_ag$site == sites_unique[i] & acp38_ag$temporal == temporal_range & acp38_ag$dataset_name==name, ]"
"0","    cor_test_result <- cor.test(site_data$mon_mean, unlist(site_data[,col_name]))$estimate"
"0","    rmse<-sqrt(mean(unlist(site_data[,col_name])-site_data$mon_mean)^2)"
"0","    new_row <- data.frame(site = sites_unique[i], dataset = name, Correlation = cor_test_result, RMSE = rmse)"
"0","    all_correlations <- rbind(all_correlations, new_row)"
"0","  }"
"0","}"
"1","[1]"
"1"," ""CHELSA 1.2"""
"1","
"
"1","[1]"
"1"," ""CHELSA 2.1"""
"1","
"
"1","[1]"
"1"," ""CHELSA EarthEnv"""
"1","
"
"1","[1]"
"1"," ""CHPclim"""
"1","
"
"1","[1]"
"1"," ""WorldClim 2.1"""
"1","
"
"1","[1]"
"1"," ""CHIRPS 2.0"""
"1","
"
"1","[1]"
"1"," ""CHELSA-W5E5v1.0"""
"1","
"
"1","[1]"
"1"," ""TerraClimate"""
"1","
"
"1","[1]"
"1"," ""PBCOR CHELSA 1.2"""
"1","
"
"1","[1]"
"1"," ""PBCOR CHPclim"""
"1","
"
"1","[1]"
"1"," ""PBCOR WorldClim 2.1"""
"1","
"
"0","all_averages<- data.frame(datset=character(),"
"0","                          Correlation= numeric(),"
"0","                          RMSE=numeric())"
"0",""
"0","datasets<- unique(all_correlations$dataset)"
"0","for (i in seq_along(datasets)){"
"0","  dataset_name=datasets[i]"
"0","  mean_correlation= mean(all_correlations[all_correlations$dataset==dataset_name,]$Correlation)"
"0","  mean_rsme= mean(all_correlations[all_correlations$dataset==dataset_name,]$RMSE)"
"0","  new_row= data.frame(dataset=dataset_name,Correlation=mean_correlation,RMSE=mean_rsme)"
"0","  all_averages= rbind(all_averages,new_row)"
"0","}"
"0","write.csv(all_averages, file= ""../tables/seasonal_variation.csv"")"
